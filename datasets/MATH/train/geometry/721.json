{
    "problem": "In the diagram, four circles of radius 1 with centers $P$, $Q$, $R$, and $S$ are tangent to one another and to the sides of $\\triangle ABC$, as shown. [asy]\nsize(200);\npair A, B, C, P, Q, R, S;\nR=(0,0);\nQ=(-2,0);\nS=(2,0);\nP=(1,1.732);\nB=(-5.73,-1);\nC=(3.732,-1);\nA=(1.366,3.098);\ndraw(A--B--C--A);\ndraw(circle(P, 1));\ndraw(circle(Q, 1));\ndraw(circle(R, 1));\ndraw(circle(S, 1));\nlabel(\"A\", A, N);\nlabel(\"B\", B, SW);\nlabel(\"C\", C, SE);\ndot(P);\ndot(Q);\ndot(R);\ndot(S);\nlabel(\"P\", P, N);\nlabel(\"Q\", Q, SW);\nlabel(\"R\", R, SW);\nlabel(\"S\", S, SE);\n[/asy]\n\nFind the perimeter of triangle $ABC$.",
    "level": "Level 5",
    "type": "Geometry",
    "solution": "Join $PQ$, $PR$, $PS$, $RQ$, and $RS$. Since the circles with centers $Q$, $R$ and $S$ are all tangent to $BC$, then $QR$ and $RS$ are each parallel to $BC$ (as the centers $Q$, $R$ and $S$ are each 1 unit above $BC$). This tells us that $QS$ passes through $R$.\n\nSimilarly, since $P$ and $S$ are each one unit from $AC$, then $PS$ is parallel to $AC$. Also, since $P$ and $Q$ are each one unit from $AB$, then $PQ$ is parallel to $AB$. Therefore, the sides of $\\triangle PQS$ are parallel to the corresponding sides of $\\triangle ABC$.\n\n\nWhen the centers of tangent circles are joined, the line segments formed pass through the associated point of tangency, and so have lengths equal to the sum of the radii of those circles. Therefore, $QR=RS=PR=PS=1+1=2$.\n\n[asy]\nsize(200);\npair P, Q, R, S;\nQ=(0,0);\nR=(2,0);\nS=(4,0);\nP=(3,1.732);\nlabel(\"Q\", Q, SW);\nlabel(\"R\", R, dir(270));\nlabel(\"S\", S, SE);\nlabel(\"P\", P, N);\ndraw(circle(Q,1), dashed);\ndraw(circle(P,1), dashed);\ndraw(circle(R,1), dashed);\ndraw(circle(S,1), dashed);\ndraw(P--Q--S--P--R);\n[/asy]\n\nSince $PR=PS=RS$, we know $\\triangle PRS$ is equilateral, so $\\angle PSR=\\angle PRS=60^\\circ$. Since $\\angle PRS=60^\\circ$ and $QRS$ is a straight line, we have $\\angle QRP=180^\\circ-60^\\circ=120^\\circ$.\n\nSince $QR=RP$, we know $\\triangle QRP$ is isosceles, so $$\\angle PQR = \\frac{1}{2}(180^\\circ-120^\\circ)= 30^\\circ.$$Since $\\angle PQS=30^\\circ$ and $\\angle PSQ=60^\\circ$, we have $$\\angle QPS = 180^\\circ - 30^\\circ - 60^\\circ = 90^\\circ,$$so $\\triangle PQS$ is a $30^\\circ$-$60^\\circ$-$90^\\circ$ triangle.\n\nThe angles of $\\triangle ABC$ are equal to the corresponding angles of $\\triangle PQS$, so $\\triangle ABC$ is a $30^\\circ$-$60^\\circ$-$90^\\circ$ triangle. This means that if we can determine one of the side lengths of $\\triangle ABC$, we can then determine the lengths of the other two sides using the side ratios in a $30^\\circ$-$60^\\circ$-$90^\\circ$ triangle.\n\nConsider side $AC$. Since the circle with center $P$ is tangent to sides $AB$ and $AC$, the line through $A$ and $P$ bisects $\\angle BAC$.  Thus, $\\angle PAC=45^\\circ$. Similarly, the line through $C$ and $S$ bisects $\\angle ACB$.  Thus, $\\angle SCA=30^\\circ$. We extract trapezoid $APSC$ from the diagram, obtaining\n\n[asy]\nsize(200);\npair A, P, S, C, Z, X;\nC=(0,0);\nZ=(1.732,0);\nX=(3.732,0);\nA=(4.732,0);\nS=(1.732,1);\nP=(3.732,1);\ndraw(A--X--Z--C--S--P--A);\ndraw(S--Z);\ndraw(P--X);\nlabel(\"A\", A, SE);\nlabel(\"Z\", Z, dir(270));\nlabel(\"X\", X, dir(270));\nlabel(\"C\", C, SW);\nlabel(\"S\", S, NW);\nlabel(\"P\", P, dir(45));\nlabel(\"1\", (S+Z)/2, E);\nlabel(\"1\", (X+P)/2, E);\nlabel(\"2\", (S+P)/2, N);\ndraw((1.732,.15)--(1.882,.15)--(1.882,0));\ndraw((3.732,.15)--(3.582,.15)--(3.582,0));\nlabel(\"$30^\\circ$\", (.35,.15), E);\nlabel(\"$45^\\circ$\", (4.5,.15), W);\n[/asy]\n\nDrop perpendiculars from $P$ and $S$ to $X$ and $Z$, respectively, on side $AC$. Since $PS$ is parallel to $AC$, and $PX$ and $SZ$ are perpendicular to $AC$, we know that $PXZS$ is a rectangle, so $XZ=PS=2$.\n\nSince $\\triangle AXP$ is right-angled at $X$, has $PX=1$ (the radius of the circle), and $\\angle PAX=45^\\circ$, we have $AX=PX=1$. Since $\\triangle CZS$ is right-angled at $Z$, has $SZ=1$ (the radius of the circle), and $\\angle SCZ=30^\\circ$, we have $CZ=\\sqrt{3}SZ=\\sqrt{3}$ (since $\\triangle SZC$ is also a $30^\\circ$-$60^\\circ$-$90^\\circ$ triangle). Thus, $AC=1+2+\\sqrt{3}=3+\\sqrt{3}$.\n\nSince $\\triangle ABC$ is a $30^\\circ$-$60^\\circ$-$90^\\circ$ triangle, with $\\angle ACB=60^\\circ$ and $\\angle CAB=90^\\circ$, we have $BC=2AC=6+2\\sqrt{3}$, and $$AB=\\sqrt{3}AC=\\sqrt{3}(3+\\sqrt{3})=3\\sqrt{3}+3.$$Therefore, the side lengths of $\\triangle ABC$ are $AC=3+\\sqrt{3}$, $AB=3\\sqrt{3}+3$, and $BC=6+2\\sqrt{3}$. Thus, the perimeter is $$3+\\sqrt{3}+3\\sqrt{3}+3+6+2\\sqrt{3}=\\boxed{12+6\\sqrt{3}}.$$"
}